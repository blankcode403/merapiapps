<?php/** * blogroll model * table name 'mst_blogrolls' **/class ar001_model extends RAR_Model{	private $piutang;	function __construct()	{		parent::__construct();		$this->piutang = $this->load->database('piutang',TRUE);	}	function Readar001()	{		$this->piutang->select("*");		$this->piutang->from('v_dtpiutang_group');		$this->piutang->where('mp110yr','2015');		$this->piutang->where('mp110mt','6');		$this->piutang->where('mp110br','001');		$this->piutang->where('fsscode','901006');		$SqlRead = $this->piutang->get();			if($SqlRead->num_rows()!=0){			foreach($SqlRead->result() as $row)			{				$arr[] = $row;			}			echo '{ metaData: { "root": "data" }';			echo ',"success":true,"data":' . json_encode($arr) . ', "total":"'.$SqlRead->num_rows().'" }';		}		else		{			return '({"metaData":"0","data":[]})';		}	}		function Readar001params()	{		if (isset ( $_POST ['mp110yr'] , $_POST ['mp110mt'] , $_POST ['mp110br'] , $_POST ['fsscode'])) {			$this->piutang->select("*");			$this->piutang->from('v_dtpiutang_group');			$this->piutang->where('mp110yr', $_POST ['mp110yr'] );			$this->piutang->where('mp110mt',$_POST ['mp110mt']);			$this->piutang->where('mp110br',$_POST ['mp110br']);			$this->piutang->where('fsscode',$_POST ['fsscode']);			$SqlRead = $this->piutang->get();		} else {			$this->piutang->select("*");			$this->piutang->from('v_dtpiutang_group');			$SqlRead = $this->piutang->get();		}				if ($SqlRead->num_rows () != 0) {			foreach ( $SqlRead->result () as $row ) {				$arr [] = $row;			}			echo '{ metaData: { "root": "data" }';			echo ',"success":true,"data":' . json_encode ( $arr ) . ', "total":"' . $SqlRead->num_rows () . '" }';		} else {			return '({"metaData":"0","data":[]})';		}	}		function getdataYear()	{		$this->piutang->distinct();		$this->piutang->select("mp110yr");		$this->piutang->from('dtpiutang');		$SqlRead = $this->piutang->get();			if($SqlRead->num_rows()!=0){			foreach($SqlRead->result() as $row)			{				$arr[] = $row;			}			echo '{ metaData: { "root": "data" }';			echo ',"success":true,"data":' . json_encode($arr) . ', "total":"'.$SqlRead->num_rows().'" }';		}		else		{			return '({"metaData":"0","data":[]})';		}	}	function getdataMonth()	{		if (isset ( $_POST ['query'] )){			$this->piutang->distinct();			$this->piutang->select("*");			$this->piutang->from('v_dtpiutang_month');			$this->piutang->where('mp110yr', $_POST ['query'] );			$SqlRead = $this->piutang->get();		} else {			$this->piutang->distinct();			$this->piutang->select("*");			$this->piutang->from('v_dtpiutang_month');			$SqlRead = $this->piutang->get();		}		if($SqlRead->num_rows()!=0){			foreach($SqlRead->result() as $row)			{				$arr[] = $row;			}			echo '{ metaData: { "root": "data" }';			echo ',"success":true,"data":' . json_encode($arr) . ', "total":"'.$SqlRead->num_rows().'" }';		}		else		{			return '({"metaData":"0","data":[]})';		}	}	function getdataBrach()	{		if (isset ( $_POST ['query'] )){			$this->piutang->distinct();			$this->piutang->select("mp110br,mfdesc");			$this->piutang->from('dtpiutang');			$this->piutang->where('mp110yr', $_POST ['query'] );			$SqlRead = $this->piutang->get();		} else {			$this->piutang->distinct();			$this->piutang->select("mp110br,mfdesc");			$this->piutang->from('dtpiutang');			$SqlRead = $this->piutang->get();		}		if($SqlRead->num_rows()!=0){			foreach($SqlRead->result() as $row)			{				$arr[] = $row;			}			echo '{ metaData: { "root": "data" }';			echo ',"success":true,"data":' . json_encode($arr) . ', "total":"'.$SqlRead->num_rows().'" }';		}		else		{			return '({"metaData":"0","data":[]})';		}	}}?>